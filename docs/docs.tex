\documentclass[letterpaper]{article}

\usepackage[utf8]{inputenc}
\usepackage[margin=1in]{geometry}
\usepackage{listings}
\usepackage[hidelinks]{hyperref}

\hypersetup{colorlinks, allcolors=blue}
\lstset
    {breaklines=true,
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
    basicstyle=\ttfamily,
    numbers=left,
    numberstyle=\normalsize,
    numbersep=10pt,
    frame=single,
}
\setlength\parindent{0pt}

\begin{document}

\pagenumbering{gobble}
\vspace*{\fill}
\begin{center}
    \Large
    Documentation for Financial Transactions HTML Page

    \large
    Jason N.

    April 26, 2020
\end{center}
\vspace*{\fill}

\newpage
\pagenumbering{roman}
\tableofcontents

\newpage
\pagenumbering{arabic}
\parskip 10pt

\section{Foreword}

Some of the code samples in this document were copied by hand.
If there are any discrepencies between code in this document and in the source files, refer to the source files.

This does not apply to the appendix.
Code in the appendix was generated directly from the source files.

\section{HTML}\label{HTML}

\subsection{Preamble and head}

This line declares that the document is an HTML5 document.

\begin{lstlisting}[firstnumber=1]
<!DOCTYPE html>
\end{lstlisting}

\lstinline{<head>} tags are used to contain meta information about the document.

\begin{lstlisting}[firstnumber=2]
<head>
    <meta charset = "UTF-8"/>
    <link rel="stylesheet" type="text/css" href="./style.css"/>
    <script src="./script.js"></script>
</head>
\end{lstlisting}

Within the \lstinline{head} element:

\begin{itemize}
    \item The first line defines the character set of the document.
    \item The second line defines the source of an external CSS document.
    \item The third line defines the source of an external Javascript document.
\end{itemize}

\subsection{Inputs}

The input section of this page is contained within \lstinline{<article>} tags for the purpose of organisation.
This can be used to facilitate styling this part of the page with CSS if desired.

\begin{lstlisting}[firstnumber=10]
<article id="inputFields">
\end{lstlisting}

The \lstinline{article} element has been assigned a unique id for the purpose of styling.
Specifically, this id is used to define padding and overflow.
This is described in further detail in section~\ref{overflow-x} of this document.

All input fields and buttons are contained within \lstinline{<form>} tags.
Althought this is not strictly necessary for the purpose of this project, it is useful for organising data and specifying the fields from which data should be submitted.

\begin{lstlisting}[firstnumber=11]
<form onsubmit="return false" autocomplete="off">
\end{lstlisting}

The attribute \lstinline{onsubmit} is used to define a Javascript function to be executed when pressed.
The form expects that \lstinline{true} is returned when data is successfully submitted.
If so, the default behaviour is to clear the fields and enter the data in the browser URL bar as arguments.
To prevent this behaviour, \lstinline{onsubmit} is set to \lstinline{return false}.

The attribute \lstinline{autocomplete} can be used to specify whether user input from a previous session should be used to populate input fields.
This attribute also determines whether or not suggestions are displayed when the user enters data.
In this case, \lstinline{autocomplete} has been set to \lstinline{off} to prevent these actions from occuring.
This does not affect the functionality of the program.

The buttons and input fields within the \lstinline{form} element are contained within \lstinline{<section>} tags for organisation.
This is primarily done to allow elements to be positioned properly by the CSS file.

All \lstinline{input} elements in this \lstinline{form} have been assigned a \lstinline{name} attribute.
The \lstinline{name} attribute is not strictly relevant in this case, but is often used to identify the data when submitting to a database.

All \lstinline{input} elements have the \lstinline{required} attribute.
Normally this prevents a \lstinline{form} from being submitted unless all \lstinline{required} fields contain data.
This does not apply to our case as we have disabled the built-in submit function.
However, it does still outline missing fields in red.

\subsubsection{Labels}

Each of the inputs are given a label to specify to a user the type of information which should be entered in the given field.
This is done with the \lstinline{input} element.

\begin{lstlisting}[firstnumber=12]
<label for="date">Date:</label><br/>
\end{lstlisting}

The \lstinline{for} attribute is used to specify an element which corresponds to this label.
This is done by setting the attribute to the id of the other element.
Labels allow a user to select an input field by clicking the label rather than the field itself.
Labels are also used to facilitate the use of assistive technologies.

\subsubsection{Date}

The date of a transaction is specified through the use of an \lstinline{input} element with a \lstinline{type} attribute of \lstinline{date}.
This can be used to effectively restrict the input to a valid date format and provides an intuitive method for inputting data.

\begin{lstlisting}[firstnumber=11]
<section>
    <label for="date">Date:</label><br/>
    <input id="date" name="date" type="date" required/>
</section>
\end{lstlisting}

This type of input field is also useful for interpreting dates in Javascript, as it provides methods which return the date in various formats to facilitate displaying and comparing dates.

\subsubsection{Text}

\lstinline{input} elements with a \lstinline{type} attribute of \lstinline{text} can be used to retrieve a string from a user.
This is also the field used for numbers, as these can be easily verified and converted in Javascript.

\begin{lstlisting}[firstnumber=16]
<section>
    <label for="account">Account Number:</label><br/>
    <input id="account" name="account" type="text" placeholder="Account Number" required/>
</section>
\end{lstlisting}

The advantage of taking numbers from an input field is that it allows for characters such as \$ to be included.
In the case of this project, users are able to submit Dollar Amounts as purely numberic values, or in a currency format.
Currently, the program only accepts dollars as a currency, however, it is possible to allow and store any number of currencies.
These characters, of course, have to be filtered out before the number is interpretted and re-inserted before displaying the value.

\subsubsection{List}

Dropdown lists are created using \lstinline{<select>} tags containing \lstinline{option} elements.
Each \lstinline{option} element represents a possible value, the first element is selected by default.

\begin{lstlisting}[firstnumber=21]
<section>
    <label for="type">Transaction Type:</label><br/>
    <select id="type" name="type">
        <option value=""></option>
        <option value="BUY">BUY</option>
        <option value="SELL">SELL</option>
        <option value="DIVIDEND">DIVIDEND</option>
        <option value="INTEREST">INTEREST</option>
        <option value="WITHDRAW">WITHDRAW</option>
        <option value="DEPOSIT">DEPOSIT</option>
    </select>
</section>
\end{lstlisting}

The \lstinline{innerHTML} of an \lstinline{option} element is the text that will be displayed to the user.
The \lstinline{value} attribute of the element is the value that will be read by Javascript.
For this project, the \lstinline{value} and \lstinline{innerHTML} were made to be identical so that the text in the table would be the same as the text the user had seen in the list.

\subsection{Table}

\subsubsection{thead}

The header of the table is enclosed in \lstinline{<thead>} tags.
This element includes the first row of the table, denoted by \lstinline{<tr>} tags, which contains headers for each column.

Every cell in the header is denoted by \lstinline{<td>} tags.
These cells differ from normal cells, such as those in the body of the table, in how they format their contents.
Using this element for header cells makes them stand out slightly as well as making it easier to differentiate when styling with CSS.

\begin{lstlisting}[firstnumber=61]
<th>
    <section>
        Transaction ID
    </section>
    <section class="sort">
        <button type="button" onclick="sortTable(0, true)">^</button>
        <button type="button" onclick="sortTable(0, false)">V</button>
    </section>
</th>
\end{lstlisting}

The first 8 header cells are split into two separate \lstinline{section} elements.
This was done to allow for the proper positioning of the header text and the sort buttons.
For this reason, the latter \lstinline{section} element is given the class \lstinline{sort} to differentiate between the two.

\subsubsection{tbody}

The table body is enclosed in \lstinline{<tbody>} tags.
This element is meant to be the main container of data in a table.

\begin{lstlisting}
<tbody id="tableBody">
</tbody>
\end{lstlisting}

The table body is important for this project as it is the parent element of all data which will be manipulated.
For this reason, it has been given a unique id to reference in Javascript.
This was not strictly necessary, as it is also possible to reference this element by its tag name, being the only \lstinline{tbody} element.
Nevertheless, I consider this to be good practice as it is clear which element is being referred to in Javascript and allows for other tables to be added in the future if necessary without breaking the current functionality.

\newpage

\section{Javascript}\label{JS}

\subsection{getData()}

\subsection{validate()}

\subsection{generateId()}

\subsection{calculateCostBasis()}

\subsection{addTransaction()}

\subsection{deleteRow()}

\subsection{editRow()}

\subsection{saveChanges()}

\subsection{discardChanges()}

\subsection{sortTable()}

\newpage

\section{CSS}\label{CSS}

\subsection{Vertical Scrolling Table}

\subsection{Horizontal Scrolling on Overflow}\label{overflow-x}

\subsection{Miscellaneous}

\newpage

\appendix
\section{HTML Source Code}
\lstinputlisting{../src/main.html}

\newpage

\section{Javascript Source Code}
\lstinputlisting{../src/script.js}

\newpage

\section{CSS Source Code}
\lstinputlisting{../src/style.css}

\end{document}

